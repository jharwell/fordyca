<argos-configuration>

  
  
  
  <framework>
    <system method="balance_quantity" threads="1" />
    <experiment length="10000" random_seed="156" ticks_per_second="5" />
  </framework>
  
  
  
  <controllers>

    <gp_dpo_controller id="ffc" library="libfordyca">
      <actuators>
        <differential_steering implementation="default" />
        <range_and_bearing implementation="default" />
        </actuators>
      <sensors>
        <footbot_proximity implementation="default" show_rays="false" />
        <footbot_light implementation="rot_z_only" show_rays="false" />
        <footbot_motor_ground implementation="rot_z_only" />
        <range_and_bearing implementation="medium" medium="rab" />
        <colored_blob_omnidirectional_camera implementation="rot_z_only" medium="leds" />
        <battery implementation="default" />
</sensors>
      <params>
        <output output_dir="ideal_0_output" output_root="/home/jharwell/exp/test/depth1.GP_DPO/ideal-dual_source.DS12x6/exp-outputs/exp4" />
        <perception>
          <grid resolution="0.2" size="12, 6, 2" />
          <pheromone repeat_deposit="false" rho="0.00001" />
        </perception>
        <task_executive tab_init_method="max_depth" update_exec_ests="true" update_interface_ests="true" />
        <task_alloc>
          <task_abort>
            <src_sigmoid_sel input_src="exec">
              <sigmoid_sel method="harwell2018">
                <sigmoid gamma="1.0" offset="3.0" reactivity="8" />
              </sigmoid_sel>
              </src_sigmoid_sel>
          </task_abort>
          <task_partition always_partition="false" never_partition="false">
            <src_sigmoid_sel input_src="exec">
              <sigmoid_sel method="pini2011">
                <sigmoid gamma="1.5" offset="1.25" reactivity="8.0" />
              </sigmoid_sel>
            </src_sigmoid_sel>
          </task_partition>
          <subtask_sel>
            <src_sigmoid_sel input_src="exec">
              <sigmoid_sel method="harwell2018">
                <sigmoid gamma="1.0" offset="1.25" reactivity="4.0" />
              </sigmoid_sel>
            </src_sigmoid_sel>
          </subtask_sel>
          <tab_sel>
            <src_sigmoid_sel input_src="exec">
              <sigmoid_sel method="harwell2019">
                <sigmoid gamma="1.0" offset="1.0" reactivity="6.0" />
              </sigmoid_sel>
            </src_sigmoid_sel>
          </tab_sel>
          <task_exec_estimates cache_collector="2000:4000" cache_finisher="2000:4000" cache_starter="2000:4000" cache_transferer="2000:4000" collector="2000:4000" generalist="4000:8000" harvester="2000:4000" seed_enabled="true">
            <ema alpha="0.4" />
          </task_exec_estimates>
        </task_alloc>
        <block_sel_matrix nest="6.0, 3.0">
              <block_priorities cube="1.0" ramp="1.0" />
              <pickup_policy policy="Null" prox_dist="2.0" />
        </block_sel_matrix>
        <cache_sel_matrix block_prox_dist="1.0" cache_prox_dist="3.2" cluster_prox_dist="1.0" nest_prox_dist="3.0" site_xrange="2:10" site_yrange="2.5:3">
            <pickup_policy cache_size="3" policy="Null" timestep="10000" />
            </cache_sel_matrix>
        <sensing los_dim="1.2">
          <proximity_sensor angle_range="-1.1:1.1" delta="0.0001" />
        </sensing>
        <exploration block_strategy="likelihood_search" cache_strategy="ledtaxis_search" />
        <actuation>
      	  <steering2D>
            <avoidance_force lookahead="0.5" max="8" />
            <arrival_force max="8" slowing_radius="0.2" slowing_speed_min="1.0" />
            <wander_force circle_distance="4.0" circle_radius="100.0" interval="1" max="9" max_angle_delta="5" normal_dist="false" />
            <phototaxis_force max="8" />
          </steering2D>

          <differential_drive max_speed="10.0" soft_turn_max="15" />
        </actuation>
        <visualization block_id="false" robot_id="true" robot_los="false" robot_task="true" />
      </params>
    </gp_dpo_controller>

  </controllers>

  
  
  
  <loop_functions label="depth1_loop_functions" library="libfordyca">
    <output output_dir="ideal_0_output" output_root="/home/jharwell/exp/test/depth1.GP_DPO/ideal-dual_source.DS12x6/exp-outputs/exp4">
      <metrics block_acq_counts="block-acq-counts.csv" block_acq_explore_locs="block-acq-explore-locs.csv" block_acq_locs="block-acq-locs.csv" block_acq_vector_locs="block-acq-vector-locs.csv" block_transport="block-transport.csv" cache_acq_counts="cache-acq-counts.csv" cache_acq_explore_locs="cache-acq-explore-locs.csv" cache_acq_locs="cache-acq-locs.csv" cache_acq_vector_locs="cache-acq-vector-locs.csv" cache_lifecycle="cache-lifecycle.csv" cache_locations="cache-locations.csv" cache_utilization="cache-utilization.csv" collect_interval="1000" output_dir="metrics" perception_dpo="perception-dpo.csv" task_distribution="task-distribution.csv" task_execution_cache_collector="task-execution-cache_collector.csv" task_execution_cache_finisher="task-execution-cache_finisher.csv" task_execution_cache_starter="task-execution-cache_starter.csv" task_execution_cache_transferer="task-execution-cache_transferer.csv" task_execution_collector="task-execution-collector.csv" task_execution_generalist="task-execution-generalist.csv" task_execution_harvester="task-execution-harvester.csv" task_tab_collector="task-tab-collector.csv" task_tab_generalist="task-tab-generalist.csv" task_tab_harvester="task-tab-harvester.csv" />
    </output>
    <convergence epsilon="0.5" n_threads="1">
      <positional_entropy enable="false" horizon="0:13.416407864998739" horizon_delta="1.3416407864998738" />
      <interactivity enable="false" />
      <angular_order enable="false" />
      <task_dist_entropy enable="false" />
    </convergence>
    <oracle_manager>
      <tasking_oracle task_exec_est="false" task_interface_est="false" />
      <entities_oracle blocks="true" caches="true" />
      </oracle_manager>
    <temporal_variance>
      <blocks>
        <manipulation_penalty>
          <waveform amplitude="50" frequency="0.01" offset="50" phase="0" type="Null" />
        </manipulation_penalty>
        <carry_throttle>
          <waveform amplitude="0.4" frequency="100" offset="0.1" phase="0" type="Null" />
        </carry_throttle>
      </blocks>
      <caches>
        <usage_penalty>
          <waveform amplitude="500" frequency="100" offset="10" phase="0" type="Null" />
        </usage_penalty>
      </caches>
    </temporal_variance>

    <arena_map>
      <grid resolution="0.2" size="12, 6, 2" />
      <blocks>
        <distribution arena_resolution="0.2" dist_type="dual_source">
          <powerlaw n_clusters="15" pwr_max="3" pwr_min="0" />
          <manifest n_cube="40" n_ramp="0" unit_dim="0.2" />
        </distribution>
      </blocks>
      <nest center="6.0, 3.0" size="1.2000000000000002, 4.800000000000001" />
    </arena_map>
    <caches dimension="2.16">
      <static enable="true" respawn_scale_factor="0.05" size="2" />
      <dynamic enable="false" min_blocks="2" min_dist="1.2" robot_drop_only="false" />

    </caches>

    <visualization block_id="false" robot_id="true" robot_los="true" robot_task="true" />
  </loop_functions>

  
  
  
  <arena center="6.0, 3.0, 1" size="12, 6, 2">

    <floor id="floor" pixels_per_meter="50" source="loop_functions" />

    <box id="wall_north" movable="false" size="12, 0.4, 0.5">
      <body orientation="0,0,0" position="6.0, 5.8, 0" />
    </box>
    <box id="wall_south" movable="false" size="12, 0.4, 0.5">
      <body orientation="0,0,0" position="6.0, 0, 0 " />
    </box>
    <box id="wall_east" movable="false" size="0.4, 6.4, 0.5">
      <body orientation="0,0,0" position="11.8, 3.0, 0" />
    </box>
    <box id="wall_west" movable="false" size="0.4, 6.4, 0.5">
      <body orientation="0,0,0" position="0, 3.0, 0" />
    </box>

    <distribute>
      <position max="10.0, 4.0, 0" method="uniform" min="2.0, 2.0, 0" />
      <orientation max="360,0,0" method="uniform" min="0,0,0" />
      <entity max_trials="1000" quantity="16">
        <foot-bot id="fb" omnidirectional_camera_aperture="89.5">
          <controller config="ffc" />
          </foot-bot>
      </entity>
    </distribute>

  </arena>

  
  
  
  <media>
    <led id="leds" />
    <range_and_bearing id="rab" />
    </media>

  
  <visualization>
    <qt-opengl autoplay="true">
       <!-- <frame_grabbing directory="frames" -->
       <!--                 base_name="frame_" -->
       <!--                 format="png" -->
       <!--                 quality="100" -->
       <!--                 headless_grabbing="true" -->
       <!--                 headless_frame_size="1600x1200" -->
       <!--                 /> -->
      <camera>
        <placement idx="0"
                   position="6,3,6"
                   look_at="6,3,0"
                   lens_focal_length="20"
                   up="0,1,0"
                   />
        <placement idx="1"
                   position="6,0,5"
                   look_at="6,3,0"
                   lens_focal_length="20"
                   up="0,1,0"
                   />
      </camera>
      <user_functions label="depth0_qt_user_functions" />
    </qt-opengl>
  </visualization>
  
  
  <physics_engines><dynamics2d id="dyn2d" /></physics_engines></argos-configuration>
